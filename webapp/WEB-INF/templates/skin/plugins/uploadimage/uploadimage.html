
<#macro addRequiredJsUploadImages>
	<link rel="stylesheet" href="css/plugins/uploadimage/main.css" />
	<link rel="stylesheet" href="css/plugins/uploadimage/cropper.css" />
	<script type="text/javascript" src="js/plugins/uploadimage/cropper.js" ></script>
</#macro>
<#macro cropimage  fieldName	file  cssClass synchronous >

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="A basic demo of Cropper.">
  <meta name="keywords" content="HTML, CSS, JS, JavaScript, jQuery plugin, image cropping, front-end, frontend, web development">
  <meta name="author" content="Fengyuan Chen">
  <title>Cropper</title>


  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body>
  <!-- header -->
  <header class="" id="top">

  </header>

  <!-- Content -->
  <div class="container">
    <div class="row">
      <div class="col-xs-8 col-md-16">
        <!-- <h3 class="page-header">Demo:</h3> -->

        <div class="img-container${fieldName}  ${cssClass}">
          <image  src="${file!}" alt="" class="${cssClass}">
        </div>
     </div>
    <div class="row">
      <div id= "buttonOption${fieldName}" class="col-md-9 docs-buttons" <#if file =="" > style='display:none' </#if>>
        <!-- <h3 class="page-header">Toolbar:</h3> -->	
        <div id="buttonOption" class="btn-group" >
	        
         <button id="crop" class="btn btn-primary" data-method="setDragMode" data-option="crop" type="button" title="Crop" style="visibility:hidden;">
            <span class="docs-tooltip" data-toggle="tooltip" title="$().cropper(&quot;setDragMode&quot;, &quot;crop&quot;)">
              <span class="icon icon-crop"></span>
            </span>
          </button>
	  <button id="move" class="btn btn-primary" data-method="setDragMode" data-option="move" type="button" title="Move">
            <span class="docs-tooltip" data-toggle="tooltip" title="$().cropper(&quot;setDragMode&quot;, &quot;move&quot;)">
              <span class="icon icon-move"></span>
            </span>
          </button>
          <button  id="zoom_in" class="btn btn-primary" data-method="zoom" data-option="0.1" type="button" title="Zoom In">
            <span class="docs-tooltip" data-toggle="tooltip" title="$().cropper(&quot;zoom&quot;, 0.1)">
              <span class="icon icon-zoom-in"></span>
            </span>
          </button>
          <button id="zoom_out" class="btn btn-primary" data-method="zoom" data-option="-0.1" type="button" title="Zoom Out">
            <span class="docs-tooltip" data-toggle="tooltip" title="$().cropper(&quot;zoom&quot;, -0.1)">
              <span class="icon icon-zoom-out"></span>
            </span>
          </button>
          <button id="rotate_left" class="btn btn-primary" data-method="rotate" data-option="-45" type="button" title="Rotate Left">
            <span class="docs-tooltip" data-toggle="tooltip" title="$().cropper(&quot;rotate&quot;, -45)">
              <span class="icon icon-rotate-left"></span>
            </span>
          </button>
          <button id="rotate_right" class="btn btn-primary" data-method="rotate" data-option="45" type="button" title="Rotate Right">
            <span class="docs-tooltip" data-toggle="tooltip" title="$().cropper(&quot;rotate&quot;, 45)">
              <span class="icon icon-rotate-right"></span>
            </span>
          </button>

        </div>
	
        <div class="btn-group">

          <button id="crop" class="btn btn-primary" data-method="crop" type="button" title="Crop" >
            <span class="docs-tooltip" data-toggle="tooltip" title="$().cropper(&quot;crop&quot;)">
              <span class="icon icon-ok"></span>
            </span>
          </button>
          <button id="clear" class="btn btn-primary" data-method="clear" type="button" title="Clear">
            <span class="docs-tooltip" data-toggle="tooltip" title="$().cropper(&quot;clear&quot;)">
              <span class="icon icon-remove"></span>
            </span>
          </button>   
          <button id="reset" class="btn btn-primary" data-method="reset" type="button" title="Reset">
            <span class="docs-tooltip" data-toggle="tooltip" title="$().cropper(&quot;reset&quot;)">
              <span class="icon icon-refresh"></span>
            </span>
          </button>
          <label class="btn btn-primary" for="inputImage${fieldName}" title="Upload image file">
            <input class="sr-only" id="inputImage${fieldName}" name="file" type="file" accept="image/*">
            <span class="docs-tooltip" data-toggle="tooltip" title="Import image with Blob URLs">
              <span class="icon icon-upload"></span> #i18n{uploadimage.model.upload.button}
            </span>
          </label>
         
        </div>
	<!--<div class="btn-group">

	 <button id="destroy" class="btn btn-primary" data-method="destroy" type="button" title="Destroy" style="visibility:hidden;">
            <span class="docs-tooltip" data-toggle="tooltip" title="$().cropper(&quot;destroy&quot;)">
              <span class="icon icon-off"></span>
            </span>
          </button>
	   <button id="disabled" class="btn btn-primary" data-method="disable" type="button" title="Disable" style="visibility:hidden;">
            <span class="docs-tooltip" data-toggle="tooltip" title="$().cropper(&quot;disable&quot;)">
              <span class="icon icon-lock"></span>
            </span>
          </button>
          <button id="enable"  class="btn btn-primary" data-method="enable" type="button" title="Enable" style="visibility:hidden;">
            <span class="docs-tooltip" data-toggle="tooltip" title="$().cropper(&quot;enable&quot;)">
              <span class="icon icon-unlock"></span>
            </span>
          </button>
	</div> -->

        <div class="btn-group">
          <button  class="btn btn-primary" data-method="getCroppedCanvas" type="button">
            <span class="docs-tooltip" data-toggle="tooltip" title="$().cropper${fieldName}(&quot;getCroppedCanvas&quot;)">
              #i18n{uploadimage.model.get.cropped.canvas}
            </span>
          </button>
          <button id="id_crop_canvas" class="btn btn-primary" data-method="getCroppedCanvas" data-option="{ &quot;width&quot;: 160, &quot;height&quot;: 90 }" type="button">
            <span class="docs-tooltip" data-toggle="tooltip" title="$().cropper(&quot;getCroppedCanvas&quot;, { width: 160, height: 90 })">
              160&times;90
            </span>
          </button>
          <button class="btn btn-primary" data-method="getCroppedCanvas" data-option="{ &quot;width&quot;: 320, &quot;height&quot;: 180 }" type="button">
            <span class="docs-tooltip" data-toggle="tooltip" title="$().cropper(&quot;getCroppedCanvas&quot;, { width: 320, height: 180 })">
              320&times;180
            </span>
          </button>
        </div>
	<div class="row">
		<input id="imagesrc${fieldName}" name="${fieldName}" type="hidden" value="" />	
		<button id="deleteButton${fieldName}" class="" data-method="deleteImage" data-option="${fieldName}" type="button" title="delete" style="display:none">
		     		 <span class="glyphicon glyphicon-remove-circle"></span> #i18n{uploadimage.model.delete.button}
		</button>
		<div style="max-width: 5px;" id="canvasImage${fieldName}"></div>
	</div>	
      </div><!-- /.docs-toggles -->
    </div>
  </div>
</div>
 <label id="label${fieldName}" class="btn btn-primary btn-upload" for="inputImage${fieldName}" title="Upload image file" <#if file !="" > style='display:none' </#if>>
            <input class="sr-only" id="inputImage${fieldName}" name="file" type="file" accept="image/*">
            <span class="docs-tooltip" data-toggle="tooltip" title="Import image with Blob URLs">
              <span class="icon icon-upload"></span> #i18n{uploadimage.model.upload.button} 
            </span>
 </label>

  <!-- Alert -->
  <div class="docs-alert"><span class="warning message"></span></div>

  <!-- Scripts -->
<script type="text/javascript" src="jsp/site/plugins/uploadimage/GetMainUploadJs.jsp?fieldName=${fieldName}" ></script>
	
</body>
</html>

<script type="text/javascript">
$(function () {
 	'use strict';
	if('${synchronous}'==="true" && "${file}" != ""){
		$('#imagesrc${fieldName}').val("${file}");
		$('#canvasImage${fieldName}').html('<img id="img${fieldName}" width="320" height="180" src="${file}" />');
		$('#deleteButton${fieldName}').show();
	};
});
</script>

</#macro>